# PowerPdo Demo

このデモは、PowerPdoライブラリの基本的な使い方と機能を示します。アプリケーションコードとライブラリコードを明確に分離して、実際の使用シナリオを示しています。

## デモの構造

このデモでは、以下の構造でコードを分離しています：

1. **アプリケーションコード** (`Demo` 名前空間)
   - `DemoProductRepository` - 製品データを管理するアプリケーションクラス
   - アプリケーションロジックを実装

2. **ライブラリコード** (`PowerPdo` 名前空間)
   - PDOLoggerライブラリのクラスを使用
   - SQLクエリのログ記録と処理を担当

この分離により、実際のアプリケーションでPDO Loggerライブラリをどのように使用するかが明確になります。

## デモの内容

このデモでは以下の操作を行います：

1. ロガーとクエリプロセッサの作成
2. アプリケーションリポジトリの作成（内部でPDOLoggerを使用）
3. アプリケーションコードを使用した製品の追加
4. 製品データのクエリ
5. 製品データの更新
6. 製品データの削除
7. 最終結果の表示
8. ログファイルの内容表示

## 実行方法

```bash
./run_demo.sh
```

## ログ出力の特徴

ログには以下の情報が含まれます：

- タイムスタンプ
- 実行されたアクション（prepare、execute、queryなど）
- 呼び出し元のファイル名と行番号
- 実行されたSQLクエリ
- バインドされたパラメータ
- 実行結果
- デバッグバックトレース情報

特に注目すべき点は、バックトレース情報に**アプリケーションコード**（`Demo\DemoProductRepository`）が表示されることです。これにより、どのアプリケーションコードがSQLクエリを実行したかを正確に特定できます。
